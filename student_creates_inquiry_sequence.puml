@startuml
title "Reference: Student Creates Inquiry"

!theme plain

' Main Actors and Systems
actor "Student" as Student
participant "Frontend\nApp" as Frontend
participant "Inquiry\nService" as InquiryService
participant "Notification\nService" as NotificationService
participant "Database" as DB
actor "Owner" as Owner

== 1. STUDENT CREATES INQUIRY ==

Student -> Frontend: Search and select property
activate Frontend
Student -> Frontend: Fill inquiry form and submit
Frontend -> InquiryService: POST /api/v1/inquiries
activate InquiryService

InquiryService -> DB: Save inquiry (status: PENDING)
activate DB
DB --> InquiryService: inquiry_id
deactivate DB

InquiryService -> NotificationService: Notify owner of new inquiry
activate NotificationService
NotificationService -> DB: Save notification
NotificationService -> NotificationService: Send email to owner
deactivate NotificationService

InquiryService --> Frontend: Inquiry created (201)
deactivate InquiryService
Frontend --> Student: Success confirmation
deactivate Frontend

@enduml 