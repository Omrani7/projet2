@startuml Complex_Scenario_Activity_Diagram

!theme plain
title "UniNest Complex Scenario: Multi-Student Competition with ML-Powered Resolution\nDemonstrating Advanced Workflow Management & Intelligent Decision Support"

|#LightBlue|Background Data Preparation|
start
:ü§ñ **Automated Web Scraping**
Discovers new property on Tayara;
note right
  **Scenario Setup:**
  A premium S+2 apartment near FSM
  is discovered through automated scraping
  and becomes highly sought after
end note

:Extract Property Details
‚Ä¢ Location: 500m from FSM
‚Ä¢ Price: 600 TND/month
‚Ä¢ Type: S+2 with balcony
‚Ä¢ Amenities: WiFi, Parking;

:Geocode & Validate Data;

:Store in Database
Mark as AVAILABLE;

|#LightGreen|Student A - Computer Science|

:üë®‚Äçüíª **Ahmed (CS Student)**
Logs into platform;

:Browse Properties
Using map interface;

:Discover FSM Property
Perfect location match;

:üìù **Create Inquiry**
"Hi, I'm a CS student at FSM.
Very interested in viewing ASAP.
Can pay deposit immediately.";

:Submit Inquiry with Phone: +216 XX XXX XXX;

|#LightCoral|Student B - Engineering|

:üë®‚Äçüîß **Sarra (Engineering Student)**
Receives ML recommendation;
note right
  **ML Algorithm in Action:**
  System identifies this property
  matches her preferences:
  ‚Ä¢ Same university (FSM)
  ‚Ä¢ Budget range: 500-700 TND
  ‚Ä¢ Prefers close to campus
end note

:View Recommended Property
Compatibility Score: 92%;

:üìù **Create Inquiry**
"Hello! Engineering student here.
This looks perfect for my needs.
When can I visit?";

:Submit Inquiry with Phone: +216 YY YYY YYY;

|#LightPink|Student C - Biology|

:üë©‚Äçüî¨ **Mariem (Biology Student)**
Browsing with filters;

:Apply Search Filters
‚Ä¢ Distance: <1km from FSM
‚Ä¢ Budget: <650 TND
‚Ä¢ Type: Studio or S+2;

:Find Same Property
Appears in filtered results;

:üìù **Create Inquiry**
"Interested in this apartment.
I'm a quiet biology student.
Available for viewing anytime.";

:Submit Inquiry with Phone: +216 ZZ ZZZ ZZZ;

|#Orange|Owner - Intelligent Decision Support|

:üè† **Property Owner (Karim)**
Receives 3 notifications;
note right
  **Complex Challenge:**
  Owner must choose between
  3 qualified students within
  24 hours to maximize success
end note

:üìß **Email Notifications**
3 separate emails received;

:üîî **WebSocket Alerts**
Real-time dashboard updates;

:Access Owner Dashboard
View all inquiries;

:üìä **Review Student Profiles**
Enhanced with ML insights;

fork
  :**Ahmed's Profile**
  ‚Ä¢ CS Student, 21 years
  ‚Ä¢ Budget: 700 TND max
  ‚Ä¢ Compatibility: 88%
  ‚Ä¢ Response time: 2 minutes
  ‚Ä¢ Previous inquiry success: 85%;
fork again
  :**Sarra's Profile**
  ‚Ä¢ Engineering, 20 years  
  ‚Ä¢ Budget: 650 TND max
  ‚Ä¢ Compatibility: 92%
  ‚Ä¢ Response time: 15 minutes
  ‚Ä¢ Previous inquiry success: 90%;
fork again
  :**Mariem's Profile**
  ‚Ä¢ Biology, 22 years
  ‚Ä¢ Budget: 600 TND max
  ‚Ä¢ Compatibility: 78%
  ‚Ä¢ Response time: 45 minutes
  ‚Ä¢ Previous inquiry success: 75%;
end fork

:ü§î **Decision Analysis**
Compare all factors;

if (Owner's decision criteria?) then (Highest compatibility + reliability)
  :Select Sarra (Engineering)
  Best overall match;
else (Quick response + budget)
  :Select Ahmed (CS)
  Fastest response;
endif

|#LightYellow|Deal Closure & Cascade Effects|

:ü§ù **Close Deal with Sarra**;
note right
  **Complex Solution Showcase:**
  Automated cascade management
  handles all related updates
  and notifications seamlessly
end note

:Update Inquiry Status
Sarra: CLOSED (successful);

:Update Property Status
Mark as RENTED;

:Remove from Search Results
No longer discoverable;

fork
  :üìß **Notify Sarra**
  "Congratulations! Property is yours.
  Owner contact: +216 AA AAA AAA";
fork again
  :üìß **Notify Ahmed**
  "Property no longer available.
  Here are 3 similar alternatives...";
fork again
  :üìß **Notify Mariem**
  "Property no longer available.
  Here are 3 similar alternatives...";
end fork

|#LightCyan|ML-Powered Alternative Suggestions|

:üß† **Recommendation Engine**
Generates alternatives for rejected students;

fork
  :**For Ahmed (CS):**
  Find properties with:
  ‚Ä¢ Similar location (FSM area)
  ‚Ä¢ Budget: 600-700 TND
  ‚Ä¢ Compatibility: >80%;
fork again
  :**For Mariem (Biology):**
  Find properties with:
  ‚Ä¢ University proximity
  ‚Ä¢ Budget: 550-650 TND
  ‚Ä¢ Quiet environment preference;
end fork

:Send Personalized Recommendations
With compatibility scores;

|#LightGray|Analytics & Learning|

:üìä **System Learning**
Update ML models;

:Record Decision Patterns
Owner preferences analysis;

:Update Compatibility Weights
Based on successful matches;

:Generate Success Metrics
‚Ä¢ Inquiry-to-deal conversion: 33%
‚Ä¢ Average decision time: 4 hours
‚Ä¢ Student satisfaction: 95%;

|#LightBlue|Continuous Improvement|

:üîÑ **Feedback Loop**;

fork
  :Sarra rates experience: 5/5
  Updates user satisfaction metrics;
fork again
  :Ahmed finds alternative property
  Through ML recommendations;
fork again
  :Mariem connects with roommate
  Via compatibility matching;
end fork

:Update Algorithm Performance
Improve future recommendations;

stop

note bottom
  **Complex Solutions Demonstrated:**
  
  1. **Multi-Source Data Integration** - Automated scraping feeds real-time inventory
  2. **Intelligent Conflict Resolution** - ML-powered decision support for owners
  3. **Cascade Effect Management** - Automated updates across all related entities
  4. **Predictive Analytics** - Success probability scoring for inquiries
  5. **Real-time Notification System** - WebSocket + Email integration
  6. **Adaptive Recommendation Engine** - Learning from user behavior patterns
  
  **Technical Complexity:**
  ‚Ä¢ Concurrent user handling with race condition prevention
  ‚Ä¢ Real-time data synchronization across multiple clients
  ‚Ä¢ ML model training and inference in production
  ‚Ä¢ Complex database transactions with ACID compliance
  ‚Ä¢ Event-driven architecture with message queuing
  ‚Ä¢ Geospatial calculations with PostGIS optimization
end note

@enduml 